import React, { useEffect, useState } from 'react'
import Head from 'next/head'
import Navbar from '../components/navbar'
import Footer from '@/components/footer';
import { Inter } from '@next/font/google'
import Button from '@/components/simple_btn';
import Carousel from '@/components/carousel';
import CardCarousel from '@/components/cardCarousel';
import PicCard from '@/components/picCard';

// Modal imports
import Newsletter from '../components/newsletter';
import LoadingModal from '../components/loadingmodal';
import LanguageModal from '../components/languagemodal';

// imports for images
import image1 from '../public/card imgs/card img5.jpg'
import image2 from '../public/card imgs/card img6.jpg'
import image3 from '../public/card imgs/card img1.jpg'
import image4 from '../public/card imgs/card img8.jpg'

// Confifure font
const inter = Inter({ subsets: ['latin'] })

export default function Home() {
    // state for navbar expansion
    const [expand, setExpand] = useState(false)
    // states and function for modals
    const [modal1, setModal1] = useState(false)
    const [modal2, setModal2] = useState(false)
    const [modal3, setModal3] = useState(false)
    const toggleModal = (e) => {
        if (e.target.name === "modal1") {
            if (modal1 === false) return setModal1(true)
            if (modal1 === true) return setModal1(false)
        }
        else if (e.target.name === "modal2") {
            if (modal2 === false) return setModal2(true)
            if (modal2 === true) return setModal2(false)
        }
        else if (e.target.name === "modal3") {
            if (modal3 === false) return setModal3(true)
            if (modal3 === true) return setModal3(false)
        }
    }

    const [resize, setSize] = useState(false)
    useEffect(() => {
        window.addEventListener('scroll', () => {
            let position = document.documentElement.scrollTop
            if (position >> 0) {
                setSize(true)
            }
            else { }
        })
    })

    return (
        <>
            <Head>
                <title>Urban Fits</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
            </Head>
            <main className="w-full h-full">
                <Navbar setExpand={setExpand} classes={resize === true ? "" : "opacity-0 lg:opacity-100 pointer-events-none lg:pointer-events-auto"} />
                <LoadingModal show={modal1} toggleModal={toggleModal} />
                <Newsletter show={modal2} toggleModal={toggleModal} />
                <LanguageModal show={modal3} toggleModal={toggleModal} />
                <section className={`${expand === true ? 'w-3/4' : 'w-full lg:w-[94.6%]'} bg-gray-100 absolute right-0 top-0 flex flex-col justify-center items-center space-y-5 transition-all duration-700`}>
                    <Carousel classes={resize === true ? "w-11/12 h-[80vh] md:h-[90vh] rounded-[2rem] m-10" : "w-full"} />
                    {/* Auto scroll Carousel  */}
                    <section className="relative w-full h-screen p-3 md:p-5 md:pr-0 flex flex-col md:flex-row font_futuraLT">
                        <div className="w-full md:w-[35%] md:h-full p-5 flex flex-col justify-center items-start">
                            <h2 className="text-2xl md:text-5xl word-wrap leading-tight">Newest Gear to Work</h2>
                            <h4 className="font_futuraLTlite text-lg">Innovation and Comfort for Women</h4>
                        </div>
                        <div className="w-full md:w-[65%] h-full">
                            <CardCarousel />
                        </div>
                        <div className="absolute w-1/5 h-full top-0 right-0 bg-gradient-to-l from-white to-transparent pointer-events-none"></div>
                    </section>
                    {/* Shopping Card Section */}
                    <section className="w-full h-screen p-3 md:p-10 flex flex-col md:flex-row justify-between font_futuraLT space-y-7 lg:space-y-0">
                        <PicCard img={image1} />
                        <PicCard object_fit="center" img={image2} />
                    </section>
                    {/* Shopping Card Section */}
                    <section className="w-full h-screen p-3 md:p-10 flex flex-col md:flex-row justify-between font_futuraLT space-y-7 lg:space-y-0">
                        <PicCard img={image4} />
                        <PicCard img={image3} />
                    </section>
                    {/* some other links section */}
                    <section className="w-full p-10">
                        <Button href="/home" bg="bg-gradient-to-r from-cyan-500 to-blue-500" classes="w-full" >FAQ page</Button>
                        <Button href="/trackorder" bg="bg-gradient-to-r from-cyan-500 to-blue-500" classes="w-full" >Track Your Order Page</Button>

                        <Button href="/giftcard" classes="w-full" >Giftcard page</Button>
                        <Button onclick={toggleModal} name="modal1" classes="w-full">Activate Change Country Modal</Button>
                        <Button onclick={toggleModal} name="modal2" classes="w-full">Activate Newsletter Modal</Button>
                        <Button href="/contact" classes="w-full" >Contact Us page</Button>
                        <Button href="/resetpassword" classes="w-full" >Reset password page</Button>
                    </section>
                    <Footer />
                </section>
            </main>
        </>
    )
}
