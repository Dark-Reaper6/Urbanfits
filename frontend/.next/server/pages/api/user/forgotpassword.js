"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/forgotpassword";
exports.ids = ["pages/api/user/forgotpassword"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "(api)/./models/user.js":
/*!************************!*\
  !*** ./models/user.js ***!
  \************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst UserSchema = mongoose.Schema({\n    username: {\n        type: String,\n        required: [\n            true,\n            \"Please enter a username\"\n        ],\n        maxLength: [\n            30,\n            \"Username cannot exceed 30 characters\"\n        ],\n        minLength: [\n            4,\n            \"Username should have more than 4 characters\"\n        ],\n        unique: [\n            true,\n            \"This username is already in use\"\n        ]\n    },\n    phone: {\n        type: String\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Please enter a valid email address\"\n        ],\n        unique: [\n            true,\n            \"This email address is already in use\"\n        ]\n    },\n    password: {\n        type: String,\n        required: [\n            true,\n            \"Please Enter Your Password\"\n        ],\n        minLength: [\n            8,\n            \"Password should be greater than 8 characters\"\n        ]\n    },\n    role: {\n        type: String,\n        default: \"user\"\n    },\n    firstname: {\n        type: String\n    },\n    lastname: {\n        type: String\n    },\n    title: {\n        type: String\n    },\n    gender: {\n        type: String\n    },\n    date_of_birth: {\n        type: String\n    },\n    newsletter_sub_email: {\n        type: Boolean,\n        default: false,\n        required: true\n    },\n    newsletter_sub_phone: {\n        type: Boolean,\n        default: false,\n        required: true\n    }\n}, {\n    timestamps: true\n});\nmodule.exports = mongoose.models.User || mongoose.model(\"User\", UserSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQU1BLFdBQVdDLG1CQUFPQSxDQUFDO0FBRXpCLE1BQU1DLGFBQWFGLFNBQVNHLE1BQU0sQ0FBQztJQUMvQkMsVUFBVTtRQUNOQyxNQUFNQztRQUNOQyxVQUFVO1lBQUMsSUFBSTtZQUFFO1NBQTBCO1FBQzNDQyxXQUFXO1lBQUM7WUFBSTtTQUF1QztRQUN2REMsV0FBVztZQUFDO1lBQUc7U0FBOEM7UUFDN0RDLFFBQVE7WUFBQyxJQUFJO1lBQUU7U0FBa0M7SUFDckQ7SUFDQUMsT0FBTztRQUNITixNQUFNQztJQUNWO0lBQ0FNLE9BQU87UUFDSFAsTUFBTUM7UUFDTkMsVUFBVTtZQUFDLElBQUk7WUFBRTtTQUFxQztRQUN0REcsUUFBUTtZQUFDLElBQUk7WUFBRTtTQUF1QztJQUMxRDtJQUNBRyxVQUFVO1FBQ05SLE1BQU1DO1FBQ05DLFVBQVU7WUFBQyxJQUFJO1lBQUU7U0FBNkI7UUFDOUNFLFdBQVc7WUFBQztZQUFHO1NBQStDO0lBQ2xFO0lBQ0FLLE1BQU07UUFDRlQsTUFBTUM7UUFDTlMsU0FBUztJQUNiO0lBQ0FDLFdBQVc7UUFDUFgsTUFBTUM7SUFDVjtJQUNBVyxVQUFVO1FBQ05aLE1BQU1DO0lBQ1Y7SUFDQVksT0FBTztRQUNIYixNQUFNQztJQUNWO0lBQ0FhLFFBQVE7UUFDSmQsTUFBTUM7SUFDVjtJQUNBYyxlQUFlO1FBQ1hmLE1BQU1DO0lBQ1Y7SUFDQWUsc0JBQXNCO1FBQ2xCaEIsTUFBTWlCO1FBQ05QLFNBQVMsS0FBSztRQUNkUixVQUFVLElBQUk7SUFDbEI7SUFDQWdCLHNCQUFzQjtRQUNsQmxCLE1BQU1pQjtRQUNOUCxTQUFTLEtBQUs7UUFDZFIsVUFBVSxJQUFJO0lBQ2xCO0FBQ0osR0FBRztJQUFFaUIsWUFBWSxJQUFJO0FBQUM7QUFFdEJDLE9BQU9DLE9BQU8sR0FBRzFCLFNBQVMyQixNQUFNLENBQUNDLElBQUksSUFBSTVCLFNBQVM2QixLQUFLLENBQUMsUUFBUTNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXJiYW4tZml0cy8uL21vZGVscy91c2VyLmpzPzY1OTQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKHtcclxuICAgIHVzZXJuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQbGVhc2UgZW50ZXIgYSB1c2VybmFtZVwiXSxcclxuICAgICAgICBtYXhMZW5ndGg6IFszMCwgXCJVc2VybmFtZSBjYW5ub3QgZXhjZWVkIDMwIGNoYXJhY3RlcnNcIl0sXHJcbiAgICAgICAgbWluTGVuZ3RoOiBbNCwgXCJVc2VybmFtZSBzaG91bGQgaGF2ZSBtb3JlIHRoYW4gNCBjaGFyYWN0ZXJzXCJdLFxyXG4gICAgICAgIHVuaXF1ZTogW3RydWUsIFwiVGhpcyB1c2VybmFtZSBpcyBhbHJlYWR5IGluIHVzZVwiXVxyXG4gICAgfSxcclxuICAgIHBob25lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIl0sXHJcbiAgICAgICAgdW5pcXVlOiBbdHJ1ZSwgXCJUaGlzIGVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBpbiB1c2VcIl0sXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlBsZWFzZSBFbnRlciBZb3VyIFBhc3N3b3JkXCJdLFxyXG4gICAgICAgIG1pbkxlbmd0aDogWzgsIFwiUGFzc3dvcmQgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiA4IGNoYXJhY3RlcnNcIl0sXHJcbiAgICB9LFxyXG4gICAgcm9sZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiBcInVzZXJcIlxyXG4gICAgfSxcclxuICAgIGZpcnN0bmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIGxhc3RuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgdGl0bGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmdcclxuICAgIH0sXHJcbiAgICBnZW5kZXI6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmdcclxuICAgIH0sXHJcbiAgICBkYXRlX29mX2JpcnRoOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgbmV3c2xldHRlcl9zdWJfZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbmV3c2xldHRlcl9zdWJfcGhvbmU6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9XHJcbn0sIHsgdGltZXN0YW1wczogdHJ1ZSB9KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgVXNlclNjaGVtYSkiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4TGVuZ3RoIiwibWluTGVuZ3RoIiwidW5pcXVlIiwicGhvbmUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsImRlZmF1bHQiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInRpdGxlIiwiZ2VuZGVyIiwiZGF0ZV9vZl9iaXJ0aCIsIm5ld3NsZXR0ZXJfc3ViX2VtYWlsIiwiQm9vbGVhbiIsIm5ld3NsZXR0ZXJfc3ViX3Bob25lIiwidGltZXN0YW1wcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbHMiLCJVc2VyIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/user.js\n");

/***/ }),

/***/ "(api)/./pages/api/user/forgotpassword.js":
/*!******************************************!*\
  !*** ./pages/api/user/forgotpassword.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_connect_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/connect_db */ \"(api)/./utils/connect_db.js\");\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/user */ \"(api)/./models/user.js\");\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_models_user__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_sendEmail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/sendEmail */ \"(api)/./utils/sendEmail.js\");\n/* harmony import */ var _utils_resetpass_template__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/resetpass_template */ \"(api)/./utils/resetpass_template.js\");\n\n\nconst jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\n\nconst forgotPassword = async (req, res)=>{\n    try {\n        if (req.method === \"POST\") {\n            await (0,_utils_connect_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n            let user = await _models_user__WEBPACK_IMPORTED_MODULE_1___default().findOne({\n                email: req.body.email\n            });\n            if (!user) user = await _models_user__WEBPACK_IMPORTED_MODULE_1___default().findOne({\n                username: req.body.email\n            }) //so that user can put the username or email in the same field and api should verify from both ways\n            ;\n            if (!user) return res.status(404).json({\n                success: false,\n                msg: \"You don't have an account with this email!\"\n            });\n            // const token = jwt.sign({ email: user.email }, process.env.SECRET_KEY, { expiresIn: '5m' })\n            res.status(200).json({\n                success: true,\n                msg: \"Forgotpassword api running successfully\"\n            });\n        // let template = resetPassTemplate(user.firstname, 'app')\n        // let info = await sendEmail(\"binarshadsaad6@gmail.com\", \"Rest Password\", template)\n        // res.json(info)\n        } else {\n            res.status(400).json({\n                success: false,\n                msg: \"bad request, you are using wrong request method!\"\n            });\n        }\n    } catch (error) {\n        console.log(error);\n        res.status(500).json({\n            success: false,\n            msg: \"Internal server error occurred, pleae try again later\"\n        });\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (forgotPassword);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlci9mb3Jnb3RwYXNzd29yZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEM7QUFDVjtBQUNoQyxNQUFNRSxNQUFNQyxtQkFBT0EsQ0FBQyxrQ0FBYztBQUNPO0FBQ2lCO0FBRTFELE1BQU1HLGlCQUFpQixPQUFPQyxLQUFLQyxNQUFRO0lBQ3ZDLElBQUk7UUFFQSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtZQUN2QixNQUFNVCw2REFBU0E7WUFDZixJQUFJVSxPQUFPLE1BQU1ULDJEQUFZLENBQUM7Z0JBQUVXLE9BQU9MLElBQUlNLElBQUksQ0FBQ0QsS0FBSztZQUFDO1lBQ3RELElBQUksQ0FBQ0YsTUFBTUEsT0FBTyxNQUFNVCwyREFBWSxDQUFDO2dCQUFFYSxVQUFVUCxJQUFJTSxJQUFJLENBQUNELEtBQUs7WUFBQyxHQUFHLG1HQUFtRzs7WUFDdEssSUFBSSxDQUFDRixNQUFNLE9BQU9GLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVMsS0FBSztnQkFBRUMsS0FBSztZQUE2QztZQUMzRyw2RkFBNkY7WUFDN0ZWLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVMsSUFBSTtnQkFBRUMsS0FBSztZQUF5QztRQUVwRiwwREFBMEQ7UUFDMUQsb0ZBQW9GO1FBQ3BGLGlCQUFpQjtRQUNyQixPQUNLO1lBQ0RWLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVMsS0FBSztnQkFBRUMsS0FBSztZQUFtRDtRQUNuRyxDQUFDO0lBQ0wsRUFDQSxPQUFPQyxPQUFPO1FBQ1ZDLFFBQVFDLEdBQUcsQ0FBQ0Y7UUFDWlgsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTLEtBQUs7WUFBRUMsS0FBSztRQUF3RDtJQUN4RztBQUNKO0FBQ0EsaUVBQWVaLGNBQWNBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91cmJhbi1maXRzLy4vcGFnZXMvYXBpL3VzZXIvZm9yZ290cGFzc3dvcmQuanM/MGI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29ubmVjdERCIGZyb20gXCJAL3V0aWxzL2Nvbm5lY3RfZGJcIlxyXG5pbXBvcnQgVXNlciBmcm9tIFwiQC9tb2RlbHMvdXNlclwiXHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIilcclxuaW1wb3J0IHNlbmRFbWFpbCBmcm9tIFwiQC91dGlscy9zZW5kRW1haWxcIlxyXG5pbXBvcnQgcmVzZXRQYXNzVGVtcGxhdGUgZnJvbSBcIkAvdXRpbHMvcmVzZXRwYXNzX3RlbXBsYXRlXCJcclxuXHJcbmNvbnN0IGZvcmdvdFBhc3N3b3JkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3REQigpXHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pXHJcbiAgICAgICAgICAgIGlmICghdXNlcikgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiByZXEuYm9keS5lbWFpbCB9KSAvL3NvIHRoYXQgdXNlciBjYW4gcHV0IHRoZSB1c2VybmFtZSBvciBlbWFpbCBpbiB0aGUgc2FtZSBmaWVsZCBhbmQgYXBpIHNob3VsZCB2ZXJpZnkgZnJvbSBib3RoIHdheXNcclxuICAgICAgICAgICAgaWYgKCF1c2VyKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbXNnOiBcIllvdSBkb24ndCBoYXZlIGFuIGFjY291bnQgd2l0aCB0aGlzIGVtYWlsIVwiIH0pXHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBlbWFpbDogdXNlci5lbWFpbCB9LCBwcm9jZXNzLmVudi5TRUNSRVRfS0VZLCB7IGV4cGlyZXNJbjogJzVtJyB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1zZzogXCJGb3Jnb3RwYXNzd29yZCBhcGkgcnVubmluZyBzdWNjZXNzZnVsbHlcIn0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBsZXQgdGVtcGxhdGUgPSByZXNldFBhc3NUZW1wbGF0ZSh1c2VyLmZpcnN0bmFtZSwgJ2FwcCcpXHJcbiAgICAgICAgICAgIC8vIGxldCBpbmZvID0gYXdhaXQgc2VuZEVtYWlsKFwiYmluYXJzaGFkc2FhZDZAZ21haWwuY29tXCIsIFwiUmVzdCBQYXNzd29yZFwiLCB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgLy8gcmVzLmpzb24oaW5mbylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1zZzogXCJiYWQgcmVxdWVzdCwgeW91IGFyZSB1c2luZyB3cm9uZyByZXF1ZXN0IG1ldGhvZCFcIiB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1zZzogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQsIHBsZWFlIHRyeSBhZ2FpbiBsYXRlclwiIH0pXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgZm9yZ290UGFzc3dvcmQiXSwibmFtZXMiOlsiQ29ubmVjdERCIiwiVXNlciIsImp3dCIsInJlcXVpcmUiLCJzZW5kRW1haWwiLCJyZXNldFBhc3NUZW1wbGF0ZSIsImZvcmdvdFBhc3N3b3JkIiwicmVxIiwicmVzIiwibWV0aG9kIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJ1c2VybmFtZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibXNnIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/user/forgotpassword.js\n");

/***/ }),

/***/ "(api)/./utils/connect_db.js":
/*!*****************************!*\
  !*** ./utils/connect_db.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst ConnectDB = async ()=>{\n    if (mongoose.connections[0].readyState) return console.log(\"Success! Connection already exists\\n\");\n    else return mongoose.connect(\"mongodb+srv://darkreaper:s19114666d@cluster0.eyxeosm.mongodb.net/Urbanfits?retryWrites=true&w=majority\", {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        dbName: \"Urbanfits\"\n    }, console.log(\"Connected to the mongodb successfully!\\n\"));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ConnectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9jb25uZWN0X2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxXQUFXQyxtQkFBT0EsQ0FBQztBQUV6QixNQUFNQyxZQUFZLFVBQVU7SUFDeEIsSUFBR0YsU0FBU0csV0FBVyxDQUFDLEVBQUUsQ0FBQ0MsVUFBVSxFQUFFLE9BQU9DLFFBQVFDLEdBQUcsQ0FBQztTQUNyRCxPQUFPTixTQUFTTyxPQUFPLENBQUNDLHdHQUFxQixFQUFDO1FBQy9DRyxpQkFBaUIsSUFBSTtRQUNyQkMsb0JBQW9CLElBQUk7UUFDeEJDLFFBQVE7SUFDVixHQUFHUixRQUFRQyxHQUFHLENBQUM7QUFDckI7QUFFQSxpRUFBZUosU0FBU0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3VyYmFuLWZpdHMvLi91dGlscy9jb25uZWN0X2RiLmpzP2NlZmQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXHJcblxyXG5jb25zdCBDb25uZWN0REIgPSBhc3luYyAoKT0+e1xyXG4gICAgaWYobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkgcmV0dXJuIGNvbnNvbGUubG9nKFwiU3VjY2VzcyEgQ29ubmVjdGlvbiBhbHJlYWR5IGV4aXN0c1xcblwiKVxyXG4gICAgZWxzZSByZXR1cm4gbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT19VUkkse1xyXG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgICAgZGJOYW1lOiBcIlVyYmFuZml0c1wiXHJcbiAgICAgIH0sIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIHRoZSBtb25nb2RiIHN1Y2Nlc3NmdWxseSFcXG5cIikpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbm5lY3REQiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJDb25uZWN0REIiLCJjb25uZWN0aW9ucyIsInJlYWR5U3RhdGUiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT19VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYk5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/connect_db.js\n");

/***/ }),

/***/ "(api)/./utils/resetpass_template.js":
/*!*************************************!*\
  !*** ./utils/resetpass_template.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst resetPassTemplate = (username, token)=>{\n    return `\r\n    <html>\r\n    <head>\r\n<meta charset=\"utf-8\">\r\n<title>Password Reset Email</title>\r\n<style>\r\n  body {\r\n    font-family: Arial, sans-serif;\r\n    color: #333;\r\n}\r\nsection{\r\n    width: 100%;\r\n    height: 100vh;\r\n    padding: 1rem;\r\n    background: #000326;\r\n  }\r\n  h1{\r\n    text-align: center;\r\n  }\r\n  span{\r\n     cursor: pointer;\r\n     padding: 0.7rem 1rem;\r\n     border: none;\r\n     outline: none;\r\n     border-radius: 1rem;\r\n     background: linear-gradient(90deg, #FAE892 0%, #B3903E 100%)\r\n     color: #ffff;\r\n  }\r\n</style>\r\n</head>\r\n    <body>\r\n    <section>\r\n    <h1>Reset Password</h1>\r\n    <h4>Hi ${username}!</h4>\r\n    <p>We received a request from your email to change the password of your Urban Fits uesr account. Click the button below to reset your password</p>\r\n    <span><a href=\"${HOST}/api/user/resetpassword?token=${token}\" >Reset Password</a></span>\r\n    <p>This session will expire in 5 minutes. And don't expose this email to anyone</p>\r\n    <p>If you did not make this request, you can ignore this email and your password will remain unchanged.</p>\r\n    </br><small>~Urban Fits</small>\r\n    </section>\r\n    </body>\r\n    </html>`;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (resetPassTemplate);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9yZXNldHBhc3NfdGVtcGxhdGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLG9CQUFvQixDQUFDQyxVQUFVQyxRQUFRO0lBQ3pDLE9BQU8sQ0FBQztBQTBDWjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXJiYW4tZml0cy8uL3V0aWxzL3Jlc2V0cGFzc190ZW1wbGF0ZS5qcz8yZGE4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlc2V0UGFzc1RlbXBsYXRlID0gKHVzZXJuYW1lLCB0b2tlbik9PntcclxuICAgIHJldHVybiBgXHJcbiAgICA8aHRtbD5cclxuICAgIDxoZWFkPlxyXG48bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cclxuPHRpdGxlPlBhc3N3b3JkIFJlc2V0IEVtYWlsPC90aXRsZT5cclxuPHN0eWxlPlxyXG4gIGJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbn1cclxuc2VjdGlvbntcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICBiYWNrZ3JvdW5kOiAjMDAwMzI2O1xyXG4gIH1cclxuICBoMXtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgc3BhbntcclxuICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgcGFkZGluZzogMC43cmVtIDFyZW07XHJcbiAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxuICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNGQUU4OTIgMCUsICNCMzkwM0UgMTAwJSlcclxuICAgICBjb2xvcjogI2ZmZmY7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG48L2hlYWQ+XHJcbiAgICA8Ym9keT5cclxuICAgIDxzZWN0aW9uPlxyXG4gICAgPGgxPlJlc2V0IFBhc3N3b3JkPC9oMT5cclxuICAgIDxoND5IaSAke3VzZXJuYW1lfSE8L2g0PlxyXG4gICAgPHA+V2UgcmVjZWl2ZWQgYSByZXF1ZXN0IGZyb20geW91ciBlbWFpbCB0byBjaGFuZ2UgdGhlIHBhc3N3b3JkIG9mIHlvdXIgVXJiYW4gRml0cyB1ZXNyIGFjY291bnQuIENsaWNrIHRoZSBidXR0b24gYmVsb3cgdG8gcmVzZXQgeW91ciBwYXNzd29yZDwvcD5cclxuICAgIDxzcGFuPjxhIGhyZWY9XCIke0hPU1R9L2FwaS91c2VyL3Jlc2V0cGFzc3dvcmQ/dG9rZW49JHt0b2tlbn1cIiA+UmVzZXQgUGFzc3dvcmQ8L2E+PC9zcGFuPlxyXG4gICAgPHA+VGhpcyBzZXNzaW9uIHdpbGwgZXhwaXJlIGluIDUgbWludXRlcy4gQW5kIGRvbid0IGV4cG9zZSB0aGlzIGVtYWlsIHRvIGFueW9uZTwvcD5cclxuICAgIDxwPklmIHlvdSBkaWQgbm90IG1ha2UgdGhpcyByZXF1ZXN0LCB5b3UgY2FuIGlnbm9yZSB0aGlzIGVtYWlsIGFuZCB5b3VyIHBhc3N3b3JkIHdpbGwgcmVtYWluIHVuY2hhbmdlZC48L3A+XHJcbiAgICA8L2JyPjxzbWFsbD5+VXJiYW4gRml0czwvc21hbGw+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+YFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHJlc2V0UGFzc1RlbXBsYXRlIl0sIm5hbWVzIjpbInJlc2V0UGFzc1RlbXBsYXRlIiwidXNlcm5hbWUiLCJ0b2tlbiIsIkhPU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/resetpass_template.js\n");

/***/ }),

/***/ "(api)/./utils/sendEmail.js":
/*!****************************!*\
  !*** ./utils/sendEmail.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst nodemailer = __webpack_require__(/*! nodemailer */ \"nodemailer\");\nconst sendEmail = async (recipient, subject, template)=>{\n    const transport = nodemailer.createTransport({\n        host: \"smtp.sendgrid.net\",\n        port: 25,\n        auth: {\n            user: \"apikey\",\n            pass: \"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\"\n        }\n    });\n    const message = {\n        from: `\"Urban Fits\" <${\"dark_reaper6@outlook.com\"}>`,\n        to: recipient,\n        replyTo: \"dark_reaper6@outlook.com\",\n        text: \"Urban Fits\",\n        subject: subject,\n        html: template\n    };\n    let info = await transport.sendMail(message);\n    console.log(info);\n    return info;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sendEmail);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zZW5kRW1haWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLGFBQWFDLG1CQUFPQSxDQUFDO0FBRTNCLE1BQU1DLFlBQVksT0FBT0MsV0FBV0MsU0FBU0MsV0FBYTtJQUN0RCxNQUFNQyxZQUFZTixXQUFXTyxlQUFlLENBQUM7UUFDekNDLE1BQU1DLG1CQUFxQjtRQUMzQkcsTUFBTTtRQUNOQyxNQUFNO1lBQ0ZDLE1BQU1MLFFBQXFCO1lBQzNCTyxNQUFNUCx1RUFBeUI7UUFDbkM7SUFDSjtJQUNBLE1BQU1TLFVBQVU7UUFDWkMsTUFBTSxDQUFDLGNBQWMsRUFBRVYsMEJBQTZCLENBQUMsQ0FBQyxDQUFDO1FBQ3ZEWSxJQUFJbEI7UUFDSm1CLFNBQVNiLDBCQUE2QjtRQUN0Q2MsTUFBTTtRQUNObkIsU0FBU0E7UUFDVG9CLE1BQU1uQjtJQUNWO0lBRUEsSUFBSW9CLE9BQU8sTUFBTW5CLFVBQVVvQixRQUFRLENBQUNSO0lBQ3BDUyxRQUFRQyxHQUFHLENBQUNIO0lBQ1osT0FBT0E7QUFDWDtBQUNBLGlFQUFldkIsU0FBU0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3VyYmFuLWZpdHMvLi91dGlscy9zZW5kRW1haWwuanM/ZGI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xyXG5cclxuY29uc3Qgc2VuZEVtYWlsID0gYXN5bmMgKHJlY2lwaWVudCwgc3ViamVjdCwgdGVtcGxhdGUpID0+IHtcclxuICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgICAgICBob3N0OiBwcm9jZXNzLmVudi5TTVRQX0hPU1QsXHJcbiAgICAgICAgcG9ydDogMjUsXHJcbiAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIsXHJcbiAgICAgICAgICAgIHBhc3M6IHByb2Nlc3MuZW52LlNNVFBfUEFTU1dPUkRcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgZnJvbTogYFwiVXJiYW4gRml0c1wiIDwke3Byb2Nlc3MuZW52LlNNVFBfU0VOREVSX0VNQUlMfT5gLFxyXG4gICAgICAgIHRvOiByZWNpcGllbnQsXHJcbiAgICAgICAgcmVwbHlUbzogcHJvY2Vzcy5lbnYuU01UUF9TRU5ERVJfRU1BSUwsXHJcbiAgICAgICAgdGV4dDogXCJVcmJhbiBGaXRzXCIsXHJcbiAgICAgICAgc3ViamVjdDogc3ViamVjdCxcclxuICAgICAgICBodG1sOiB0ZW1wbGF0ZVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydC5zZW5kTWFpbChtZXNzYWdlKTtcclxuICAgIGNvbnNvbGUubG9nKGluZm8pXHJcbiAgICByZXR1cm4gaW5mb1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHNlbmRFbWFpbCJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsInNlbmRFbWFpbCIsInJlY2lwaWVudCIsInN1YmplY3QiLCJ0ZW1wbGF0ZSIsInRyYW5zcG9ydCIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiU01UUF9IT1NUIiwicG9ydCIsImF1dGgiLCJ1c2VyIiwiU01UUF9VU0VSIiwicGFzcyIsIlNNVFBfUEFTU1dPUkQiLCJtZXNzYWdlIiwiZnJvbSIsIlNNVFBfU0VOREVSX0VNQUlMIiwidG8iLCJyZXBseVRvIiwidGV4dCIsImh0bWwiLCJpbmZvIiwic2VuZE1haWwiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/sendEmail.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/user/forgotpassword.js"));
module.exports = __webpack_exports__;

})();